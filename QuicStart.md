異世界計算はセキュアなデータ処理を可能にする計算プラットフォームです。データ分析者（データ処理実行者）は、異世界計算に実行する計算を記述したリクエストを送り、計算処理を実行します。計算対象のデータは、データ提供サーバーから異世界計算に伝送されます。

データ提供サーバーは、異世界計算からのアクセスの場合のみデータを提供します。データ提供サーバーと異世界計算の間の認証は、トライアルではmTLSのみですが、商用版ではSEV-snpのプログラム認証を利用したよりセキュアな認証となる予定です。

異世界計算へ送信する計算リクエストは、Jupyterliteを使って作成し、送信することができます。使用するプログラミング言語はPython で、その上でYakGrpcというモジュールを使用します。

YakGrpcの機能は、リクエスト作成機能とリクエスト送信機能の二つに分かれます。リクエスト作成機能では、計算パーツを組み合わせたグラフを作ることになります。図1にグラフの例を示します。この例では、データを取得するLocと平均値を計算するMeanを使用しています。

Locは指定されたデータ列をデータ提供サーバーから取得します。データ提供サーバーは、リクエスト送信の際に指定します。Meanは親ノードの計算パーツから提供されるデータ列の平均値を計算します。この例では、賃金のデータ列であるwageを取得し、その平均値を算出し、それを返します。

計算パーツを組み合わせて作ったグラフをaddします。addは複数回呼ぶこともでき、一度のリクエスト更新で同時に複数のグラフを処理させることも可能です。

buildを呼び出すと、全体のグラフをjson形式で出力します。このグラフのデータを異世界計算に送信します。

リクエスト送信機能を使うには、yakgrpc.Clientを初期化します。第一引数には異世界計算のURLを指定します。第二引数には認証トークンを指定します。認証トークンはYakAuthにログインして取得してください。

リクエストを送信するにはyakgrpc.Clientを初期化して得られたインスタンスでexecuteを呼び出します。executeの第一引数にはデータ提供サーバーに接続するデータ提供モジュールのトークンを指定します。第二引数にはグラフのデータをjsonとして出力したものを指定します。
